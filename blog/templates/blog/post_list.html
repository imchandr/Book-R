{% extends 'reviews/home.html' %}
{% load static %}



{% block content %}






<!--post-search-newpost-component -->
<div class="flex flex-start my-12 ml-8">
  <div class="ml-80 ">
    

    <div class="font-sans text-black bg-white flex items-center justify-center">
      <a href="{% url 'blog:create_post'%}" class="bg-white text-gray-800 font-bold rounded hover:border-gray-300 hover:bg-gray-200 hover:text-gray-900 shadow-md py-2 px-6 inline-flex items-center">
        <span class="mr-2">Create New Post</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path fill="currentcolor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
        </svg>
      </a>
      <form action="{%url 'blog:post_search'%}" method="GET" class='mx-12'>
      <div class="border rounded overflow-hidden flex">
        {{form.query}}
         
        <button type='submit' class="flex items-center justify-center px-4 border-l">
          <svg class="h-4 w-4 text-grey-dark" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"/></svg>
        </button>
      </div>
    </form>
    </div>
  </div>  
</div>

 

{% for post in posts %}
<!-- post-list-component -->
<div class="container mx-auto my-12 ">

  <div class="relative rounded-lg flex flex-col md:flex-row items-center md:shadow-lg md:h-80 mx-2 border-2 hover:shadow-xl">
      
      <div class="z-0 order-1 md:order-2 relative w-full md:w-2/5 h-80 md:h-full overflow-hidden rounded-lg md:rounded-none md:rounded-r-lg">
          <div class="absolute inset-0 w-full h-full object-cover object-center bg-gray-300 bg-opacity-30 bg-contain bg-center bg-no-repeat" style="background-image: url( {{post.image.url}} ); background-blend-mode: multiply;"></div>
          <div class="md:hidden absolute inset-0 h-full p-6 pb-6 flex flex-col-reverse justify-start items-start bg-gradient-to-b from-transparent via-transparent to-gray-900">

              <h3 class="w-full font-bold text-2xl text-white leading-tight mb-2">{{post.title|truncatewords:10}}</h3>
              <h4 class="w-full text-xl text-gray-100 leading-tight">{{post.author}}</h4>
          </div>
          <svg class="hidden md:block absolute inset-y-0 h-full w-24 fill-current text-white -ml-12" viewBox="0 0 100 100" preserveAspectRatio="none">
              <polygon points="50,0 100,0 50,100 0,100" />
          </svg>
      </div>

      <div class="z-10 order-2 md:order-1 w-full h-full md:w-3/5 flex items-center -mt-6 md:mt-0">
          <div class="p-8 md:pr-18 md:pl-14 md:py-12 mx-2 md:mx-0 h-full bg-white rounded-lg md:rounded-none md:rounded-l-lg shadow-xl md:shadow-none ">
            
            <h3 class="hidden md:block font-bold text-2xl text-gray-700">{{post.title|truncatewords:15}}</h3>
            <h4 class="text-blue-600 hidden md:block text-md text-blue-600 my-1">Author: <span class="px-2">{{post.author}}</span></h4>
            
            <span class="text-blue-600 text-md">Added:<span class="px-2">{{post.publish|date}}</span></span>
            <span class="text-blue-600 text-md my-4">|<span class="pr-2"></span>{{post.get_readtime}} Read</span> 
              <h2 class="my-4 text-gray-600 text-justify ">{{post.body|safe|truncatewords:25}}</h2>
              <a class="flex items-baseline mt-3 text-blue-600 hover:text-blue-900 focus:text-blue-900" href="/blog/{{post.slug}}/">
                  <span>Read more</span>
                  <span class="text-xs ml-1">&#x279c;</span>
              </a>
          </div>
      </div>
    </div>
<!-- end-post-component -->
  
</div>
{% endfor %}

{% include 'blog/pagination.html' with page=posts %}
{% endblock content %}
